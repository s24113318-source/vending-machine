<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>McDo Kiosk with Animated Add-to-Cart</title>
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: #ffe5b4;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  color: #333;
}
.vending-machine {
  width: 950px;
  margin: 20px;
  background: #fff;
  border-radius: 25px;
  padding: 30px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  position: relative;
}
.machine-header {
  text-align: center;
  background: #ffcc00;
  color: #d70000;
  font-weight: 700;
  font-size: 2rem;
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.category h2 {
  font-size: 1.5rem;
  color: #d70000;
  margin-bottom: 15px;
  border-bottom: 2px solid #ffcc00;
  padding-bottom: 5px;
}
.product-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}
.product {
  background: #fff3e0;
  border-radius: 20px;
  padding: 20px;
  text-align: center;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  transition: transform 0.2s, box-shadow 0.2s;
}
.product:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
.product-emoji { font-size: 3rem; margin-bottom: 10px; }
.product-name { font-weight: 700; margin-bottom: 5px; color: #d70000; }
.product-price { font-weight: 600; color: #333; margin-bottom: 10px; }
.add-cart-btn {
  background: #ffcc00;
  color: #d70000;
  border: none;
  padding: 8px 15px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
}
.add-cart-btn:hover { background: #ffd633; transform: scale(1.1); }
.add-cart-btn:active { transform: scale(0.95); }
.cart {
  margin-top: 20px;
  background: #fff3e0;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}
.cart h3 { color: #d70000; margin-bottom: 10px; }
.cart-items { margin-bottom: 10px; }
.cart-item { display: flex; justify-content: space-between; margin-bottom: 5px; }
.checkout-btn {
  background: #d70000;
  color: #fff;
  border: none;
  padding: 10px 25px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: 0.2s;
}
.checkout-btn:hover { background: #ff4c4c; }

/* Insert Money Section moved below */
.payment-section {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin-top: 25px;
}
.payment-section input {
  padding: 15px;
  font-size: 1.2rem;
  border-radius: 12px;
  border: 2px solid #ffcc00;
  text-align: center;
  width: 120px;
}
.payment-section button {
  padding: 15px 25px;
  font-size: 1.1rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 700;
  transition: 0.3s;
}
.insert-btn { background: #ffcc00; color: #d70000; }
.insert-btn:hover { background: #ffd633; }
.return-btn { background: #d70000; color: #fff; }
.return-btn:hover { background: #ff4c4c; }
.balance-display {
  text-align: center;
  font-size: 1.2rem;
  margin-top: 10px;
  font-weight: 600;
}
.message {
  text-align: center;
  font-size: 1rem;
  color: #d70000;
  font-weight: 500;
  margin-top: 5px;
}

/* Popup notification */
#popup {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #ffcc00;
  color: #d70000;
  padding: 15px 25px;
  border-radius: 12px;
  font-weight: 700;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s, transform 0.3s;
}
#popup.show {
  opacity: 1;
  transform: translateY(0);
}
</style>
<body>
<div class="vending-machine">
  <div class="machine-header">üçî MCDO KIOSK üçü</div>

  <!-- Drinks -->
  <div class="category">
    <h2>ü•§ Drinks</h2>
    <div class="product-grid">
      <div class="product" data-price="25" data-name="Coke"><div class="product-emoji">ü•§</div><div class="product-name">Coke</div><div class="product-price">$25</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="30" data-name="Orange Juice"><div class="product-emoji">üßÉ</div><div class="product-name">Orange Juice</div><div class="product-price">$30</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="35" data-name="Coffee"><div class="product-emoji">‚òï</div><div class="product-name">Coffee</div><div class="product-price">$35</div><button class="add-cart-btn">Add to Cart</button></div>
    </div>
  </div>

  <!-- Desserts -->
  <div class="category">
    <h2>üç∞ Desserts</h2>
    <div class="product-grid">
      <div class="product" data-price="20" data-name="Chocolate Bar"><div class="product-emoji">üç´</div><div class="product-name">Chocolate Bar</div><div class="product-price">$20</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="25" data-name="Cookies"><div class="product-emoji">üç™</div><div class="product-name">Cookies</div><div class="product-price">$25</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="40" data-name="Cupcake"><div class="product-emoji">üßÅ</div><div class="product-name">Cupcake</div><div class="product-price">$40</div><button class="add-cart-btn">Add to Cart</button></div>
    </div>
  </div>

  <!-- Food -->
  <div class="category">
    <h2>üç± Food</h2>
    <div class="product-grid">
      <div class="product" data-price="35" data-name="Rice Ball"><div class="product-emoji">üçô</div><div class="product-name">Rice Ball</div><div class="product-price">$35</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="45" data-name="Hotdog"><div class="product-emoji">üå≠</div><div class="product-name">Hotdog</div><div class="product-price">$45</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="60" data-name="Burger"><div class="product-emoji">üçî</div><div class="product-name">Burger</div><div class="product-price">$60</div><button class="add-cart-btn">Add to Cart</button></div>
    </div>
  </div>

  <!-- McDo sides/desserts -->
  <div class="category">
    <h2>üçü Sides & Desserts</h2>
    <div class="product-grid">
      <div class="product" data-price="50" data-name="French Fries"><div class="product-emoji">üçü</div><div class="product-name">French Fries</div><div class="product-price">$50</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="55" data-name="Nuggets"><div class="product-emoji">üçó</div><div class="product-name">Nuggets</div><div class="product-price">$55</div><button class="add-cart-btn">Add to Cart</button></div>
      <div class="product" data-price="60" data-name="McFlurry"><div class="product-emoji">üç®</div><div class="product-name">McFlurry</div><div class="product-price">$60</div><button class="add-cart-btn">Add to Cart</button></div>
    </div>
  </div>

  <!-- Cart & Checkout -->
  <div class="cart">
    <h3>üõí Your Cart</h3>
    <div class="cart-items" id="cartItems"></div>
    <div>Total: $<span id="cartTotal">0</span></div>
    <button class="checkout-btn" onclick="checkout()">Checkout</button>
  </div>

  <!-- Payment Section -->
  <div class="payment-section">
    <input type="number" id="moneyInput" placeholder="NTD" min="0"/>
    <button class="insert-btn" onclick="insertMoney()">Insert Money</button>
    <button class="return-btn" onclick="returnChange()">Return Change</button>
  </div>
  <div class="balance-display">Balance: $<span id="balance">0</span></div>
  <div class="message" id="message"></div>

</div>

<!-- Popup -->
<div id="popup"></div>

<script>
let balance = 0;
let cart = [];

function insertMoney() {
  const input = document.getElementById('moneyInput');
  const amount = parseInt(input.value);
  if(isNaN(amount) || amount <=0) { showMessage("Enter a valid amount."); return; }
  balance += amount; updateBalance(); showMessage(`Inserted $${amount}.`); input.value = "";
}

function returnChange() {
  if(balance>0){ showMessage(`Returned $${balance} in change.`); balance=0; updateBalance(); }
  else showMessage("No balance to return.");
}

function updateBalance(){ document.getElementById('balance').innerText = balance; }

function showMessage(text){ document.getElementById('message').innerText = text; }

function addToCart(name, price){
  const existing = cart.find(item => item.name===name);
  if(existing){ existing.quantity+=1; } else{ cart.push({name, price, quantity:1}); }
  renderCart(); showPopup(`${name} added to cart!`);
}

function renderCart(){
  const cartItems = document.getElementById('cartItems');
  const cartTotal = document.getElementById('cartTotal');
  cartItems.innerHTML = "";
  let total=0;
  cart.forEach(item=>{
    total+=item.price*item.quantity;
    const div=document.createElement('div');
    div.className='cart-item';
    div.textContent=`${item.name} x${item.quantity} - $${item.price*item.quantity}`;
    cartItems.appendChild(div);
  });
  cartTotal.innerText=total;
}

function checkout(){
  const total=parseInt(document.getElementById('cartTotal').innerText);
  if(balance>=total){ balance-=total; updateBalance(); showMessage("Payment successful! Enjoy your meal üçî"); cart=[]; renderCart(); }
  else showMessage(`Not enough balance. Please insert $${total-balance} more.`);
}

function showPopup(text){
  const popup=document.getElementById('popup');
  popup.innerText=text;
  popup.classList.add('show');
  setTimeout(()=>popup.classList.remove('show'),1500);
}

document.querySelectorAll('.add-cart-btn').forEach(btn=>{
  btn.addEventListener('click', e=>{
    const product = e.target.closest('.product');
    const name=product.getAttribute('data-name');
    const price=parseInt(product.getAttribute('data-price'));
    addToCart(name, price);
  });
});
</script>
</body>
</html>